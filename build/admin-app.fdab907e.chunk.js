(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5538],{90597:function(O,E,t){"use strict";t.r(E),t.d(E,{default:function(){return As}});var e=t(32735),r=t(5141),n=t(39161),f=t(86349),m=t.n(f),g=t(88423),d=t.n(g),B=t(93839),R=t.n(B),j=t(56784),v=t.n(j),x=t(99357),T=t(463),F=()=>{const u=[];return{register(s){u.push(s)},delete(s){u.splice(u.indexOf(s),1)},runWaterfall(s,a){return u.reduce((i,c)=>c(i,a),s)},async runWaterfallAsync(s,a){let i=s;for(const c of u)i=await c(i,a);return i},runSeries(...s){return u.map(a=>a(...s))},async runSeriesAsync(...s){const a=[];for(const i of u)a.push(await i(...s));return a},runParallel(...s){return Promise.all(u.map(a=>a(...s)))}}},L=t(13055);const w=(u,s)=>{let a=L.compose;const i=[];u.forEach(y=>{i.push(y())});const c=(0,L.createStore)($(s,{}),{},a((0,L.applyMiddleware)(...i)));return c.asyncReducers={},c.injectReducer=(y,A)=>{c.asyncReducers[y]=A,c.replaceReducer($(s,c.asyncReducers))},c},$=(u,s)=>(0,L.combineReducers)({...u,...s});var Q=w,fe=t(20284),P=t(13478),ae=t(55721),Y=t(5636),ue=t(60216),o=t.n(ue);const D=({component:u,path:s,...a})=>{const{pathname:i,search:c}=(0,r.useLocation)();return e.createElement(r.Route,{path:s,render:y=>P.auth.getToken()!==null?e.createElement(u,{...a,...y}):e.createElement(r.Redirect,{to:{pathname:"/auth/login",search:i!=="/"&&`?redirectTo=${encodeURIComponent(`${i}${c}`)}`}})})};D.propTypes={component:o().any.isRequired,path:o().string.isRequired};var b=(0,e.memo)(D),H=t(64421),ve=t(41925),le=t(39935),ce=t.n(le),de=t(33795),z=t.n(de),qe=t(9086),et=t.n(qe);const Ge="GUIDED_TOUR_CURRENT_STEP",_="GUIDED_TOUR_COMPLETED_STEPS",Ie="GUIDED_TOUR_SKIPPED",oe=JSON.parse,Se=JSON.stringify;var he={clear(){localStorage.removeItem(Ge),localStorage.removeItem(_)},addCompletedStep(u){const s=oe(localStorage.getItem(_))?.slice()||[];s.includes(u)||(s.push(u),localStorage.setItem(_,Se(s)))},addCurrentStep(u){localStorage.setItem(Ge,Se(u))},setSkipped(u){localStorage.setItem(Ie,Se(u))},get(u){return oe(localStorage.getItem(u))}},me=t(20139),Be=t(41832),te=u=>u,Le=t(97889),Ue=t(92891);const ze={formErrors:{},modifiedData:{},requestError:null},Ke=(u,s)=>(0,Le.default)(u,a=>{switch(s.type){case"ON_CHANGE":{(0,Ue.set)(a.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return ze;case"SET_DATA":{a.modifiedData=s.data;break}case"SET_ERRORS":{a.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{a.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return a}}),Ve=(()=>window&&window.strapi&&window.strapi.isEE?t(7277).Z:t(56355).Z)(),He=u=>{let{hasAdmin:s,setHasAdmin:a}=u;const{push:i,location:{search:c}}=(0,r.useHistory)(),{changeLocale:y}=(0,me.Z)(),{setSkipped:A}=(0,P.useGuidedTour)(),{trackUsage:S}=(0,P.useTracking)(),{params:{authType:k}}=(0,r.useRouteMatch)("/auth/:authType"),V=(0,P.useQuery)(),{Component:G,endPoint:I,fieldsToDisable:X,fieldsToOmit:K,inputsPrefix:ne,schema:N,...Ee}=z()(Ve,k,{}),[{formErrors:be,modifiedData:ot,requestError:rt},$e]=(0,e.useReducer)(Ke,ze,te),Fe=ae.Z.CancelToken.source();(0,e.useEffect)(()=>()=>{Fe.cancel("Component unmounted")},[]),(0,e.useEffect)(()=>{$e({type:"RESET_PROPS"})},[k]);const Cs=re=>{let{target:{name:Me,value:Pe}}=re;$e({type:"ON_CHANGE",keys:Me,value:Pe})},Ls=async(re,Me)=>{let{setSubmitting:Pe,setErrors:Oe}=Me;Pe(!0);const xe=et()(re,K),ee=`/admin/${I}`;k==="login"&&await Ss(re,ee,{setSubmitting:Pe,setErrors:Oe}),(k==="register"||k==="register-admin")&&await Ds(re,ee,{setSubmitting:Pe,setErrors:Oe}),k==="forgot-password"&&await Ms(xe,ee,{setSubmitting:Pe,setErrors:Oe}),k==="reset-password"&&await bs(xe,ee,{setSubmitting:Pe,setErrors:Oe})},Ms=async(re,Me,Pe)=>{let{setSubmitting:Oe,setErrors:xe}=Pe;try{await(0,ae.Z)({method:"POST",url:`${strapi.backendURL}${Me}`,data:re,cancelToken:Fe.token}),i("/auth/forgot-password-success")}catch(ee){console.error(ee),xe({errorMessage:"notification.error"})}finally{Oe(!1)}},Ss=async(re,Me,Pe)=>{let{setSubmitting:Oe,setErrors:xe}=Pe;try{const{data:{data:{token:ee,user:ye}}}=await(0,ae.Z)({method:"POST",url:`${strapi.backendURL}${Me}`,data:et()(re,K),cancelToken:Fe.token});ye.preferedLanguage&&y(ye.preferedLanguage),P.auth.setToken(ee,re.rememberMe),P.auth.setUserInfo(ye,re.rememberMe),Jt()}catch(ee){if(ee.response){const ye=z()(ee,["response","data","error","message"],"Something went wrong");if(ce()(ye).toLowerCase()==="usernotactive"){i("/auth/oops"),$e({type:"RESET_PROPS"});return}xe({errorMessage:ye})}}finally{Oe(!1)}},Ds=async(re,Me,Pe)=>{let{setSubmitting:Oe,setErrors:xe}=Pe;try{S("willCreateFirstAdmin");const{data:{data:{token:ee,user:ye}}}=await(0,ae.Z)({method:"POST",url:`${strapi.backendURL}${Me}`,data:et()(re,K),cancelToken:Fe.token});P.auth.setToken(ee,!1),P.auth.setUserInfo(ye,!1),Oe(!1),a(!0);const{roles:Xe}=ye;if(Xe&&Xe.find(Os=>{let{code:Is}=Os;return Is==="strapi-super-admin"})&&(he.setSkipped(!1),A(!1),S("didLaunchGuidedtour")),k==="register"&&re.userInfo.news===!0||k==="register-admin"&&re.news===!0){i({pathname:"/usecase",search:`?hasAdmin=${s}`});return}Jt()}catch(ee){if(S("didNotCreateFirstAdmin"),ee.response){const{data:ye}=ee.response,Xe=(0,Be.Z)(ye);xe({apiErrors:Xe})}}},bs=async(re,Me,Pe)=>{let{setErrors:Oe,setSubmitting:xe}=Pe;try{const{data:{data:{token:ee,user:ye}}}=await(0,ae.Z)({method:"POST",url:`${strapi.backendURL}${Me}`,data:{...re,resetPasswordToken:V.get("code")},cancelToken:Fe.token});P.auth.setToken(ee,!1),P.auth.setUserInfo(ye,!1),i("/")}catch(ee){if(ee.response){const ye=z()(ee,["response","data","message"],"Something went wrong"),Xe=z()(ee,["response","data","statusCode"],400);$e({type:"SET_REQUEST_ERROR",errorMessage:ye,errorStatus:Xe}),Oe({errorMessage:ye})}}finally{xe(!1)}},Jt=()=>{if(k==="login"){const re=V.get("redirectTo"),Me=re?decodeURIComponent(re):"/";i(Me)}else i("/")};return!Ve[k]||s&&k==="register-admin"||P.auth.getToken()?e.createElement(r.Redirect,{to:"/"}):!s&&k!=="register-admin"?e.createElement(r.Redirect,{to:{pathname:"/auth/register-admin",search:c}}):e.createElement(G,(0,ve.Z)({},Ee,{authType:k,fieldsToDisable:X,formErrors:be,inputsPrefix:ne,modifiedData:ot,onChange:Cs,onSubmit:Ls,requestError:rt,schema:N}))};He.defaultProps={hasAdmin:!1},He.propTypes={hasAdmin:o().bool,setHasAdmin:o().func.isRequired};var J=He,gt=t(53951),pe=t(83292),Re=t(33348),se=t(10190),Te=t(954);const we=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Qe=(0,pe.default)(n.Typography)`
  text-align: center;
`;var Ot=()=>{const u=(0,P.useNotification)(),{push:s,location:a}=(0,r.useHistory)(),{formatMessage:i}=(0,Y.useIntl)(),[c,y]=(0,e.useState)(),[A,S]=(0,e.useState)(""),{firstname:k,email:V}=P.auth.getUserInfo(),{hasAdmin:G}=(0,Re.parse)(a?.search,{ignoreQueryPrefix:!0}),I=c==="other",X=K=>{try{(0,ae.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:V,username:k,firstAdmin:Boolean(!G),persona:{role:K?void 0:c,otherRole:K?void 0:A}}}),u({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return e.createElement(Te.ZP,null,e.createElement(n.Main,{labelledBy:"usecase-title"},e.createElement(Te.bU,null,e.createElement("form",{onSubmit:()=>X(!1)},e.createElement(n.Flex,{direction:"column",paddingBottom:7},e.createElement(se.Z,null),e.createElement(n.Box,{paddingTop:6,paddingBottom:1,width:(0,P.pxToRem)(250)},e.createElement(Qe,{variant:"alpha",as:"h1",id:"usecase-title"},i({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),e.createElement(n.Stack,{spacing:6},e.createElement(n.Select,{id:"usecase","data-testid":"usecase",label:i({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:y,value:c},we.map(({intlLabel:K,value:ne})=>e.createElement(n.Option,{key:ne,value:ne},i(K)))),I&&e.createElement(n.TextInput,{name:"other",label:i({id:"Usecase.other",defaultMessage:"Other"}),value:A,onChange:K=>S(K.target.value),"data-testid":"other"}),e.createElement(n.Button,{type:"submit",size:"L",fullWidth:!0,disabled:!c},i({id:"global.finish",defaultMessage:"Finish"}))))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:4},e.createElement(n.TextButton,{onClick:()=>X(!0)},i({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))},ft=t(61605),ht=async()=>`web-fingerprint-${(await(await ft.ZP.load()).get()).visitorId}`,Et=[],yt=[...(()=>window&&window.strapi&&window.strapi.isEE?t(68944).Z:t(56761).Z)(),...Et],tt=t(8888);const it=(0,e.lazy)(()=>Promise.all([t.e(9816),t.e(801)]).then(t.bind(t,29761)));function vt(){const u=(0,P.useNotification)(),{updateProjectSettings:s}=(0,tt.um)(),{formatMessage:a}=(0,Y.useIntl)(),[{isLoading:i,hasAdmin:c,uuid:y,deviceId:A},S]=(0,e.useState)({isLoading:!0,hasAdmin:!1}),k=(0,P.useAppInfos)(),{get:V}=(0,P.useFetchClient)(),G=(0,e.useMemo)(()=>(0,H.WW)(yt.map(({to:N,Component:Ee,exact:be})=>(0,H.ot)(Ee,N,be))),[]),[I,X]=(0,e.useState)(null);(0,e.useEffect)(()=>{const N=P.auth.getToken();N&&(async()=>{try{const{data:{token:be}}=await(0,P.request)("/admin/renew-token",{method:"POST",body:{token:N}});P.auth.updateToken(be)}catch{P.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,e.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:Ee,uuid:be,menuLogo:ot,authLogo:rt}}}=await ae.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,P.prefixFileUrlWithBackendUrl)(ot),authLogo:(0,P.prefixFileUrlWithBackendUrl)(rt)});const $e=await ht();if(be){const{data:{data:Dt}}=await V("/admin/telemetry-properties",{validateStatus:Fe=>Fe<500});X(Dt);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:$e,eventPropeties:{},userProperties:{environment:k.currentEnvironment},groupProperties:{...Dt,projectId:be}}),headers:{"Content-Type":"application/json"}})}catch{}}S({isLoading:!1,hasAdmin:Ee,uuid:be,deviceId:$e})}catch{u({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[u,s]);const K=N=>S(Ee=>({...Ee,hasAdmin:N})),ne=(0,e.useMemo)(()=>({uuid:y,telemetryProperties:I,deviceId:A}),[y,I,A]);return i?e.createElement(P.LoadingIndicatorPage,null):e.createElement(e.Suspense,{fallback:e.createElement(P.LoadingIndicatorPage,null)},e.createElement(n.SkipToContent,null,a({id:"skipToContent"})),e.createElement(P.TrackingProvider,{value:ne},e.createElement(r.Switch,null,G,e.createElement(r.Route,{path:"/auth/:authType",render:N=>e.createElement(J,{...N,setHasAdmin:K,hasAdmin:c}),exact:!0}),e.createElement(b,{path:"/usecase",component:Ot}),e.createElement(b,{path:"/",component:it}),e.createElement(r.Route,{path:"",component:gt.default}))))}var kt=vt,lt=t(47750),Tt=t(84968),Pt=t(4409),ut=t(66694);const ct={menuLogo:null,authLogo:null};var Ut=(u=ct,s)=>(0,Le.default)(u,a=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(a,s.values);break}default:return a}});const Rt=({children:u,authLogo:s,menuLogo:a,showReleaseNotification:i,showTutorials:c})=>{const[{menuLogo:y,authLogo:A},S]=(0,e.useReducer)(Ut,ct),k=(0,e.useCallback)(({menuLogo:G,authLogo:I})=>S({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:G||a,authLogo:I||s}}),[s,a]),V=(0,e.useMemo)(()=>({logos:{menu:{custom:y,default:a},auth:{custom:A,default:s}},updateProjectSettings:k,showReleaseNotification:i,showTutorials:c}),[y,a,A,s,k,i,c]);return e.createElement(ut._5.Provider,{value:V},u)};Rt.propTypes={authLogo:o().string.isRequired,children:o().element.isRequired,menuLogo:o().string.isRequired,showReleaseNotification:o().bool.isRequired,showTutorials:o().bool.isRequired};var jt=Rt,At=t(58732),xt=t.n(At),Ct=t(5985);const h=({changeLocale:u,children:s,localeNames:a,messages:i})=>e.createElement(Ct.Z.Provider,{value:{changeLocale:u,localeNames:a,messages:i}},s);h.propTypes={changeLocale:o().func.isRequired,children:o().element.isRequired,localeNames:o().object.isRequired,messages:o().object.isRequired};var p=h,C="strapi-admin-language",Z=u=>{const s=window.localStorage.getItem(C);return{locale:u[s]?s:"en",localeNames:u}};const W={localeNames:{en:"English"},locale:"en"};var ie=(u=W,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:a}=s;return u.localeNames[a]?{...u,locale:a}:u}default:return u}};const De=({children:u,localeNames:s,messages:a})=>{const[{locale:i},c]=(0,e.useReducer)(ie,W,()=>Z(s));(0,e.useEffect)(()=>{window.localStorage.setItem(C,i),document.documentElement.setAttribute("lang",i)},[i]);const y=S=>{c({type:"CHANGE_LOCALE",locale:S})},A=xt()(a[i],a.en);return e.createElement(Y.IntlProvider,{locale:i,defaultLocale:"en",messages:A,textComponent:"span"},e.createElement(p,{changeLocale:y,localeNames:s,messages:A},u))};De.propTypes={children:o().element.isRequired,localeNames:o().objectOf(o().string).isRequired,messages:o().object.isRequired};var Ae=De,Ne=(u,s)=>{const a=Object.entries(s),i=a.findIndex(([y])=>y===u);return a.slice(0,i).every(([,y])=>Object.values(y).every(Boolean))},st=(u,s)=>{const a=u.split("."),i=a[1],c=Object.entries(s[a[0]]),y=c.findIndex(([S])=>S===i);return c.slice(0,y).every(([,S])=>S)};const nt={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0};var at=(u=nt,s)=>(0,Le.default)(u,a=>{switch(s.type){case"SET_CURRENT_STEP":{a.currentStep=s.step;break}case"SET_STEP_STATE":{const[i,c]=s.currentStep.split(".");a.guidedTourState[i][c]=s.value;break}case"SET_SKIPPED":{a.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{a.isGuidedTourVisible=s.value;break}default:return a}}),Ze=t(3040),ge=t.n(Ze),je=u=>{const s={...u},a=he.get(_),i=he.get(Ge),c=he.get(Ie);if(a&&a.forEach(y=>{const[A,S]=y.split(".");ge()(s,["guidedTourState",A,S],!0)}),i){const[y,A]=i.split(".");ge()(s,["guidedTourState",y,A],!0),he.addCompletedStep(i),he.addCurrentStep(null)}return c!==null&&ge()(s,"isSkipped",c),s};const Je=({children:u})=>{const[{currentStep:s,guidedTourState:a,isGuidedTourVisible:i,isSkipped:c},y]=(0,e.useReducer)(at,nt,je),A=I=>{if(I!==null){const X=z()(a,I),K=st(I,a);if(X||c||!K)return null}return he.addCurrentStep(I),y({type:"SET_CURRENT_STEP",step:I})},S=I=>{y({type:"SET_GUIDED_TOUR_VISIBILITY",value:I})},k=(I,X)=>{he.addCompletedStep(I),y({type:"SET_STEP_STATE",currentStep:I,value:X})},V=I=>{const X=a[I];if(X){const K=Ne(I,a),ne=Object.keys(X)[0],N=X[ne];if(K&&!s&&!N)return A(`${I}.${ne}`)}return null},G=I=>{he.setSkipped(I),y({type:"SET_SKIPPED",value:I})};return e.createElement(P.GuidedTourProvider,{guidedTourState:a,currentStep:s,setCurrentStep:A,setGuidedTourVisibility:S,setSkipped:G,setStepState:k,startSection:V,isGuidedTourVisible:i,isSkipped:c},u)};Je.propTypes={children:o().element.isRequired};var es=Je,Bt=t(12788),_t=t(57269),Nt=t(41502);const ts=(0,pe.default)(n.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:u})=>u.colors.neutral0};
    opacity: 0.9;
  }
`,ss=(0,pe.default)(n.Stack)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,P.pxToRem)(160)};
`,Zt=(0,pe.default)(n.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:u})=>u.colors.primary600} !important;
    }
  }
`,dt=document.createElement("div"),ns="autoReloadOverlayBlocker";dt.setAttribute("id",ns);const as=pe.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,os=(0,pe.default)(_t.Refresh)`
  animation: ${as} 1s infinite linear;
`,Wt=({displayedIcon:u,description:s,title:a,isOpen:i})=>{const{formatMessage:c}=(0,Y.useIntl)();return(0,e.useEffect)(()=>(document.body.appendChild(dt),()=>{document.body.removeChild(dt)}),[]),i?Bt.createPortal(e.createElement(ts,null,e.createElement(ss,{spacing:6},e.createElement(n.Stack,{spacing:2},e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h1",variant:"alpha"},c(a))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},c(s)))),e.createElement(n.Flex,{justifyContent:"center"},u==="reload"&&e.createElement(Zt,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(os,{width:(0,P.pxToRem)(36),height:(0,P.pxToRem)(36)})),u==="time"&&e.createElement(Zt,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(_t.Clock,{width:(0,P.pxToRem)(40),height:(0,P.pxToRem)(40)}))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:2},e.createElement(Nt.r,{href:"https://docs.strapi.io",isExternal:!0},c({id:"global.documentation",defaultMessage:"Read the documentation"})))))),dt):null};Wt.propTypes={displayedIcon:o().oneOfType([o().string,o().array]).isRequired,description:o().object.isRequired,isOpen:o().bool.isRequired,title:o().object.isRequired};var rs=Wt;const Ft=30,Gt=({children:u})=>{const[s,a]=(0,e.useState)(!1),[{elapsed:i},c]=(0,e.useState)({elapsed:0,start:0}),[y,A]=(0,e.useState)(void 0),S=(N=void 0)=>{a(!0),A(N),c(Ee=>({...Ee,start:Date.now()}))},k=()=>{a(!1),c({start:0,elapsed:0}),A(void 0)},V=(0,e.useRef)(S),G=(0,e.useRef)(k);(0,e.useEffect)(()=>{let N=null;return s?N=setInterval(()=>i>Ft?(clearInterval(N),null):(c(Ee=>({...Ee,elapsed:Math.round(Date.now()-Ee.start)/1e3})),null),1e3):clearInterval(N),()=>{clearInterval(N)}},[s,i]);let I=y?.icon||"reload",X={id:y?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},K={id:y?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};i>Ft&&(I="time",X={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},K={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const ne=(0,e.useMemo)(()=>({lockApp:V.current,unlockApp:G.current}),[V,G]);return e.createElement(P.AutoReloadOverlayBockerContext.Provider,{value:ne},e.createElement(rs,{displayedIcon:I,isOpen:s,description:X,title:K}),u)};Gt.propTypes={children:o().element.isRequired};var is=Gt;const Mt=({dispatch:u,notification:s})=>{const{formatMessage:a}=(0,Y.useIntl)(),{message:i,link:c,type:y,id:A,onClose:S,timeout:k,blockTransition:V,title:G}=s,I=N=>typeof N=="string"?N:a(N,N.values),X=(0,e.useCallback)(()=>{S&&S(),u({type:"HIDE_NOTIFICATION",id:A})},[A]);(0,e.useEffect)(()=>{let N;return V||(N=setTimeout(()=>{X()},k||2500)),()=>clearTimeout(N)},[V,X,k]);let K,ne;return y==="info"?(K="default",ne=a({id:"notification.default.title",defaultMessage:"Information:"})):y==="warning"?(K="danger",ne=a({id:"notification.warning.title",defaultMessage:"Warning:"})):y==="softWarning"?(K="warning",ne=a({id:"notification.warning.title",defaultMessage:"Warning:"})):(K="success",ne=a({id:"notification.success.title",defaultMessage:"Success:"})),G&&(ne=typeof G=="string"?G:I({id:G?.id||G,defaultMessage:G?.defaultMessage||G?.id||G,values:G?.values})),e.createElement(n.Alert,{action:c?e.createElement(Nt.r,{href:c.url,isExternal:!0},a({id:c.label?.id||c.label,defaultMessage:c.label?.defaultMessage||c.label?.id||c.label})):void 0,onClose:X,closeLabel:"Close",title:ne,variant:K},I({id:i?.id||i,defaultMessage:i?.defaultMessage||i?.id||i,values:i?.values}))};Mt.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},Mt.propTypes={dispatch:o().func.isRequired,notification:o().shape({id:o().number,message:o().oneOfType([o().string,o().shape({id:o().string.isRequired,defaultMessage:o().string,values:o().object})]),link:o().shape({target:o().string,url:o().string.isRequired,label:o().oneOfType([o().string,o().shape({id:o().string.isRequired,defaultMessage:o().string,values:o().object})]).isRequired}),type:o().string,onClose:o().func,timeout:o().number,blockTransition:o().bool,title:o().oneOfType([o().string,o().shape({id:o().string.isRequired,defaultMessage:o().string,values:o().object})])})};var ls=Mt;const Kt={notifId:0,notifications:[]};var us=(u=Kt,s)=>(0,Le.default)(u,a=>{switch(s.type){case"SHOW_NOTIFICATION":{a.notifications.push({id:u.notifId,type:z()(s,["config","type"],"success"),message:z()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:z()(s,["config","link"],null),timeout:z()(s,["config","timeout"],2500),blockTransition:z()(s,["config","blockTransition"],!1),onClose:z()(s,["config","onClose"],null),title:z()(s,["config","title"],null)}),a.notifId=u.notifId+1;break}case"HIDE_NOTIFICATION":{const i=u.notifications.findIndex(c=>c.id===s.id);i!==-1&&a.notifications.splice(i,1);break}default:return a}});const Ht=({children:u})=>{const[{notifications:s},a]=(0,e.useReducer)(us,Kt),i=c=>{a({type:"SHOW_NOTIFICATION",config:c})};return e.createElement(P.NotificationsProvider,{toggleNotification:i},e.createElement(n.Stack,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(c=>e.createElement(ls,{key:c.id,dispatch:a,notification:c}))),u)};Ht.propTypes={children:o().element.isRequired};var cs=Ht;const mt=document.createElement("div");mt.setAttribute("id","overlayBlocker");const ds=pe.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,$t=({isOpen:u})=>((0,e.useEffect)(()=>(document.body.appendChild(mt),()=>{document.body.removeChild(mt)}),[]),u?Bt.createPortal(e.createElement(ds,null),mt):null);$t.propTypes={isOpen:o().bool.isRequired};const zt=({children:u})=>{const[s,a]=(0,e.useState)(!1),i=()=>{a(!0)},c=()=>{a(!1)};return e.createElement(P.OverlayBlockerContext.Provider,{value:{lockApp:i,unlockApp:c}},u,e.createElement($t,{isOpen:s}))};zt.propTypes={children:o().node.isRequired};var ms=zt;const St="STRAPI_THEME",ps=()=>{const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(St);return s||localStorage.setItem(St,u),s||u},Vt=({children:u,themes:s})=>{const[a,i]=(0,e.useState)(ps()),c=(0,e.useCallback)(A=>{i(A),localStorage.setItem(St,A)},[i]),y=(0,e.useMemo)(()=>({currentTheme:a,onChangeTheme:c,themes:s}),[a,c,s]);return e.createElement(ut.Rj.Provider,{value:y},u)};Vt.propTypes={children:o().node.isRequired,themes:o().shape({light:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,dark:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,custom:o().object}).isRequired};var gs=Vt,fs=pe.createGlobalStyle`
  body {
    background: ${({theme:u})=>u.colors.neutral100};
  }
`;const Qt=({children:u})=>{const{currentTheme:s,themes:a}=(0,tt.M1)();return e.createElement(n.ThemeProvider,{theme:a[s]||a.light},u,e.createElement(fs,null))};Qt.propTypes={children:o().element.isRequired};var hs=Qt;const Es=new Tt.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Yt=({authLogo:u,children:s,components:a,customFields:i,fields:c,getAdminInjectedComponents:y,getPlugin:A,localeNames:S,menu:k,menuLogo:V,messages:G,plugins:I,runHookParallel:X,runHookSeries:K,runHookWaterfall:ne,settings:N,showReleaseNotification:Ee,showTutorials:be,store:ot,themes:rt})=>e.createElement(gs,{themes:rt},e.createElement(hs,null,e.createElement(Tt.QueryClientProvider,{client:Es},e.createElement(Pt.Provider,{store:ot},e.createElement(ut.ux.Provider,{value:{getAdminInjectedComponents:y}},e.createElement(jt,{authLogo:u,menuLogo:V,showReleaseNotification:Ee,showTutorials:be},e.createElement(P.StrapiAppProvider,{getPlugin:A,menu:k,plugins:I,runHookParallel:X,runHookWaterfall:ne,runHookSeries:K,settings:N},e.createElement(P.LibraryProvider,{components:a,fields:c},e.createElement(P.CustomFieldsProvider,{customFields:i},e.createElement(Ae,{messages:G,localeNames:S},e.createElement(is,null,e.createElement(ms,null,e.createElement(es,null,e.createElement(cs,null,s))))))))))))));Yt.propTypes={authLogo:o().oneOfType([o().string,o().any]).isRequired,children:o().element.isRequired,components:o().object.isRequired,customFields:o().object.isRequired,fields:o().object.isRequired,getAdminInjectedComponents:o().func.isRequired,getPlugin:o().func.isRequired,localeNames:o().objectOf(o().string).isRequired,menu:o().arrayOf(o().shape({to:o().string.isRequired,icon:o().func.isRequired,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,permissions:o().array,Component:o().func})).isRequired,menuLogo:o().oneOfType([o().string,o().any]).isRequired,messages:o().object.isRequired,plugins:o().object.isRequired,runHookParallel:o().func.isRequired,runHookWaterfall:o().func.isRequired,runHookSeries:o().func.isRequired,settings:o().object.isRequired,showReleaseNotification:o().bool.isRequired,showTutorials:o().bool.isRequired,store:o().object.isRequired,themes:o().shape({light:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,dark:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,custom:o().object}).isRequired};var ys=Yt,vs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"},pt=t(70836),Ts={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},Ps="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";class Rs{constructor({adminConfig:s,appPlugins:a,library:i,middlewares:c,reducers:y}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:lt,head:{favicon:Ps},locales:["en"],menuLogo:lt,notifications:{releases:!0},themes:{light:n.lightTheme,dark:n.darkTheme},translations:{},tutorials:!0},this.appPlugins=a||{},this.library=i,this.middlewares=c,this.plugins={},this.reducers=y,this.translations={},this.hooksDict={},this.admin={injectionZones:Ts},this.customFields=fe.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(a=>this.library.components.add(a)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const a=JSON.stringify(s);v()(s.to,`link.to should be defined for ${a}`),v()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),v()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${a}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(a=>this.library.fields.add(a)):this.library.fields.add(s)};addMenuLink=s=>{const a=JSON.stringify(s);v()(s.to,`link.to should be defined for ${a}`),v()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${a}`),v()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),v()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(a=>{this.middlewares.add(a)})};addReducers=s=>{Object.keys(s).forEach(a=>{this.reducers.add(a,s[a])})};addSettingsLink=(s,a)=>{v()(this.settings[s],"The section does not exist");const i=JSON.stringify(a);v()(a.id,`link.id should be defined for ${i}`),v()(a.intlLabel?.id&&a.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${i}`),v()(a.to,`link.to should be defined for ${i}`),v()(a.Component&&typeof a.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(a)};addSettingsLinks=(s,a)=>{v()(this.settings[s],"The section does not exist"),v()(Array.isArray(a),"TypeError expected links to be an array"),a.forEach(i=>{this.addSettingsLink(s,i)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const a=this.appPlugins[s].bootstrap;a&&a({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),R()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(pt.No),this.createHook(pt.LK),this.createHook(pt.dV),this.createHook(pt.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,a=this.customConfigurations.theme.light;!s&&!a&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),m()(this.configurations.themes.light,this.customConfigurations.theme)),a&&m()(this.configurations.themes.light,a),s&&m()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=F()};createSettingSection=(s,a)=>{v()(s.id,"section.id should be defined"),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),v()(Array.isArray(a),"TypeError expected links to be an array"),v()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},a.forEach(i=>{this.addSettingsLink(s.id,i)})};createStore=()=>Q(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,a,i)=>{try{return this.admin.injectionZones[s][a][i]||[]}catch(c){return console.error("Cannot get injected component",c),c}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,a,i)=>{v()(this.admin.injectionZones.contentManager[s]?.[a],`The ${s} ${a} zone is not defined in the content manager`),v()(i,"A Component must be provided"),this.admin.injectionZones.contentManager[s][a].push(i)};injectAdminComponent=(s,a,i)=>{v()(this.admin.injectionZones.admin[s]?.[a],`The ${s} ${a} zone is not defined in the admin`),v()(i,"A Component must be provided"),this.admin.injectionZones.admin[s][a].push(i)};async loadAdminTrads(){const s=this.configurations.locales.map(c=>t(48224)(`./${c}.json`).then(({default:y})=>({data:y,locale:c})).catch(()=>({data:null,locale:c})));return(await Promise.all(s)).reduce((c,y)=>(y.data&&(c[y.locale]=y.data),c),{})}async loadTrads(){const s=await this.loadAdminTrads(),a=Object.keys(this.appPlugins).map(A=>{const S=this.appPlugins[A].registerTrads;return S?S({locales:this.configurations.locales}):null}).filter(A=>A),c=(await Promise.all(a)).reduce((A,S)=>{const k=S.reduce((V,G)=>(V[G.locale]=G.data,V),{});return Object.keys(k).forEach(V=>{A[V]={...A[V],...k[V]}}),A},{}),y=this.configurations.locales.reduce((A,S)=>(A[S]={...s[S],...c[S]||{},...this.customConfigurations?.translations?.[S]},A),{});return this.configurations.translations=y,Promise.resolve()}registerHook=(s,a)=>{v()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(a)};registerPlugin=s=>{const a=(0,fe.Sy)(s);this.plugins[a.pluginId]=a};runHookSeries=(s,a=!1)=>a?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,a,i=!1,c)=>i?this.hooksDict[s].runWaterfallAsync(a,c):this.hooksDict[s].runWaterfall(a,c);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),a=d()(vs,this.configurations.locales||[]),{components:{components:i},fields:{fields:c}}=this.library;return e.createElement(ys,{authLogo:this.configurations.authLogo,components:i,fields:c,customFields:this.customFields,localeNames:a,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(y,A,S=!1)=>this.runHookWaterfall(y,A,S,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},e.createElement(e.Fragment,null,e.createElement(x.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(C)||"en"}}),e.createElement(r.BrowserRouter,{basename:T.Z},e.createElement(kt,{store:s}))))}}var As=({adminConfig:u={},appPlugins:s,library:a,middlewares:i,reducers:c})=>new Rs({adminConfig:u,appPlugins:s,library:a,middlewares:i,reducers:c})},5985:function(O,E,t){"use strict";var e=t(32735);const r=(0,e.createContext)();E.Z=r},20139:function(O,E,t){"use strict";var e=t(32735),r=t(5985);const n=()=>{const{changeLocale:f,localeNames:m,messages:g}=(0,e.useContext)(r.Z);return{changeLocale:f,localeNames:m,messages:g}};E.Z=n},10190:function(O,E,t){"use strict";var e=t(32735),r=t(83292),n=t(8888);const f=r.default.img`
  height: ${72/16}rem;
`,m=()=>{const{logos:{auth:g}}=(0,n.um)();return e.createElement(f,{src:g?.custom??g.default,"aria-hidden":!0,alt:""})};E.Z=m},66694:function(O,E,t){"use strict";t.d(E,{ux:function(){return n},_5:function(){return m},$l:function(){return d},Rj:function(){return R}});var e=t(32735),n=(0,e.createContext)({}),m=(0,e.createContext)({}),d=(0,e.createContext)({}),R=(0,e.createContext)({})},463:function(O,E){"use strict";const t="/admin/".replace(window.location.origin,"");E.Z=t},70836:function(O,E,t){"use strict";t.d(E,{Eo:function(){return n},LK:function(){return r},No:function(){return e},dV:function(){return f}});const e="Admin/CM/pages/ListView/inject-column-in-table",r="Admin/CM/pages/App/mutate-collection-types-links",n="Admin/CM/pages/EditView/mutate-edit-view-layout",f="Admin/CM/pages/App/mutate-single-types-links"},8888:function(O,E,t){"use strict";t.d(E,{um:function(){return f},U_:function(){return L},Dq:function(){return P},H9:function(){return Ge},bP:function(){return v},$_:function(){return ct},rW:function(){return Ct},bF:function(){return ke},G4:function(){return Pt},Te:function(){return yt},M1:function(){return At}});var e=t(32735),r=t(66694),f=()=>(0,e.useContext)(r._5),m=t(13478),g=t(97889);const d={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]};var R=(h,p)=>(0,g.default)(h,l=>{switch(p.type){case"GET_MODELS":{l.collectionTypes=d.collectionTypes,l.singleTypes=d.singleTypes,l.components=d.components,l.isLoading=!0;break}case"GET_MODELS_ERROR":{l.collectionTypes=d.collectionTypes,l.singleTypes=d.singleTypes,l.components=d.components,l.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const C=U=>p.contentTypes.filter(Z=>Z.isDisplayed&&Z.kind===U);l.isLoading=!1,l.collectionTypes=C("collectionType"),l.singleTypes=C("singleType"),l.components=p.components;break}default:return l}}),v=()=>{const h=(0,m.useNotification)(),[p,l]=(0,e.useReducer)(R,d);(0,e.useEffect)(()=>{C()},[]);const C=async()=>{l({type:"GET_MODELS"});try{const[{data:U},{data:Z}]=await Promise.all(["components","content-types"].map(W=>(0,m.request)(`/content-manager/${W}`,{method:"GET"})));l({type:"GET_MODELS_SUCCEDED",contentTypes:Z,components:U})}catch{l({type:"GET_MODELS_ERROR"}),h({type:"warning",message:{id:"notification.error"}})}};return{...p,getData:C}};const x={data:{},error:null,isLoading:!0};var M=(h,p)=>(0,g.default)(h,l=>{switch(p.type){case"GET_DATA":{l.isLoading=!0,l.data={},l.error=null;break}case"GET_DATA_SUCCEEDED":{l.data=p.data,l.isLoading=!1,l.error=null;break}case"GET_DATA_ERROR":{l.isLoading=!1,l.error=p.error;break}default:return l}}),L=h=>{const[{data:p,error:l,isLoading:C},U]=(0,e.useReducer)(M,x);return(0,e.useEffect)(()=>{(async()=>{U({type:"GET_DATA"});const{data:W}=await(0,m.request)("/admin/permissions",{method:"GET",params:{role:h}});U({type:"GET_DATA_SUCCEEDED",data:W})})()},[h]),{data:p,error:l,isLoading:C}};const w={role:{},permissions:{},isLoading:!0};var Q=(h,p)=>(0,g.default)(h,l=>{switch(p.type){case"GET_DATA_SUCCEEDED":{l.role=p.role,l.permissions=p.permissions,l.isLoading=!1;break}case"GET_DATA_ERROR":{l.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{l.role.name=p.name,l.role.description=p.description;break}default:return l}}),P=h=>{const p=(0,m.useNotification)(),[l,C]=(0,e.useReducer)(Q,w);(0,e.useEffect)(()=>{h?U(h):C({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[h]);const U=async W=>{try{const[{data:q},{data:ie}]=await Promise.all([`roles/${W}`,`roles/${W}/permissions`].map(De=>(0,m.request)(`/admin/${De}`,{method:"GET"})));C({type:"GET_DATA_SUCCEEDED",role:q,permissions:ie})}catch(q){console.error(q),C({type:"GET_DATA_ERROR"}),p({type:"warning",message:{id:"notification.error"}})}},Z=(0,e.useCallback)(W=>{C({type:"ON_SUBMIT_SUCCEEDED",...W})},[]);return{...l,onSubmitSucceeded:Z}},Y=(h,p)=>p.map(({permissions:l})=>(0,m.hasPermissions)(h,l)),o=async(h,p)=>{const l=Y(h,p),C=await Promise.all(l);return p.filter((Z,W)=>C[W])},D=t(99381),b=t.n(D),ve=async(h,p,l)=>{const C=Y(h,p),U=await Promise.all(C),Z=p.filter((ie,De)=>U[De]),W=Z.findIndex(ie=>ie.to==="/settings");if(W===-1)return[];const q=b()(Z);return q[W].notificationsCount=l?1:0,q},le=t(57269),ce=t(72041);const de={generalSectionLinks:[{icon:le.Puzzle,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:ce.Z.marketplace.main},{icon:le.ShoppingCart,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:ce.Z.marketplace.main},{icon:le.Cog,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0};var qe=(h=de,p)=>(0,g.default)(h,l=>{switch(p.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:C,authorizedPluginSectionLinks:U}=p.data;l.generalSectionLinks=C,l.pluginsSectionLinks=U;break}case"UNSET_IS_LOADING":{l.isLoading=!1;break}default:return l}}),Ge=()=>{const[h,p]=(0,e.useReducer)(qe,de),{allPermissions:l}=(0,m.useRBACProvider)(),{shouldUpdateStrapi:C}=(0,m.useAppInfos)(),{menu:U}=(0,m.useStrapiApp)(),Z=(0,e.useRef)(h.generalSectionLinks),W=(0,e.useRef)(C),q=async(De=l)=>{const _e=await o(De,U),Ne=await ve(De,Z.current,W.current);p({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:Ne,authorizedPluginSectionLinks:_e}}),p({type:"UNSET_IS_LOADING"})},ie=(0,e.useRef)(q);return(0,e.useEffect)(()=>{ie.current(l)},[l,p]),h},_=t(33795),Ie=t.n(_),Se=(h,p)=>({...h,isLoading:p});const Ce={roles:[],isLoading:!0};var me=(h,p)=>(0,g.default)(h,l=>{switch(p.type){case"GET_DATA":{l.isLoading=!0,l.roles=[];break}case"GET_DATA_SUCCEEDED":{l.roles=p.data,l.isLoading=!1;break}case"GET_DATA_ERROR":{l.isLoading=!1;break}default:return l}}),ke=(h=!0)=>{const p=(0,m.useNotification)(),[{roles:l,isLoading:C},U]=(0,e.useReducer)(me,Ce,()=>Se(Ce,h));(0,e.useEffect)(()=>{h&&Z()},[h]);const Z=(0,e.useCallback)(async()=>{const W=(0,m.getFetchClient)();try{U({type:"GET_DATA"});const{data:{data:q}}=await W.get("/admin/roles");U({type:"GET_DATA_SUCCEEDED",data:q})}catch(q){const ie=Ie()(q,["response","payload","message"],"An error occured");U({type:"GET_DATA_ERROR"}),ie!=="Forbidden"&&p({type:"warning",message:ie})}},[p]);return{roles:l,isLoading:C,getData:Z}},te=t(92891);const Le={menu:[],isLoading:!0};var ze=(h,p)=>(0,g.default)(h,l=>{switch(p.type){case"CHECK_PERMISSIONS_SUCCEEDED":{p.data.forEach(C=>{C.hasPermission&&(0,te.set)(l,["menu",...C.path.split("."),"isDisplayed"],C.hasPermission)}),l.menu.forEach((C,U)=>{l.menu[U].links=C.links.filter(Z=>Z.isDisplayed===!0)}),l.isLoading=!1;break}default:return l}}),Ke=t(9086),Ve=t.n(Ke),He=t(98978),J=t.n(He),pe=h=>J()(h,p=>p.id),se=h=>h.map(p=>{const l=p.links.map(C=>({...C,isDisplayed:!1}));return{...p,links:l}}),we=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:ce.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:ce.Z.settings.users.main}],bt=[...(()=>window&&window.strapi&&window.strapi.isEE?t(66334).Z:t(47950).Z)(),...we],ft=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:ce.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:ce.Z.settings["api-tokens"].main},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens",isDisplayed:!1,permissions:ce.Z.settings["transfer-tokens"].main}];const It=(()=>window&&window.strapi&&window.strapi.isEE?t(11545).Z:t(73086).Z)();var ht=[...ft,...It],Et=(h,{settings:p,shouldUpdateStrapi:l})=>{const C=p.global.links,U=pe([...C,...ht]).map(q=>({...q,hasNotification:q.id==="000-application-infos"&&l})),Z=Object.values(Ve()(p,"global")),W=[{...p.global,links:U},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:bt},...Z];return{...h,menu:se(W)}},yt=(h=!1)=>{const{allPermissions:p}=(0,m.useRBACProvider)(),{shouldUpdateStrapi:l}=(0,m.useAppInfos)(),{settings:C}=(0,m.useStrapiApp)(),[{isLoading:U,menu:Z},W]=(0,e.useReducer)(ze,Le,()=>Et(Le,{settings:C,shouldUpdateStrapi:l}));return(0,e.useEffect)(()=>{h||(async()=>{const ie=async(Ne,Ye)=>({hasPermission:await(0,m.hasPermissions)(p,Ne),path:Ye}),Ae=(Ne=>Ne.reduce((Ye,st,nt)=>{const Lt=at=>at.map((Ze,ge)=>ie(at[ge].permissions,`${nt}.links.${ge}`));return[...Ye,...Lt(st.links)]},[]))(Z),_e=await Promise.all(Ae);W({type:"CHECK_PERMISSIONS_SUCCEEDED",data:_e})})()},[p,h]),{isLoading:U,menu:Z}},tt=t(64421);const it={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},vt=(h,p)=>(0,g.default)(h,l=>{switch(p.type){case"GET_DATA_SUCCEEDED":{l.isLoading=!1,l.showHeaderLoader=!1,l.initialData=(0,te.pick)(p.data,h.fieldsToPick),l.modifiedData=(0,te.pick)(p.data,h.fieldsToPick);break}case"ON_CANCEL":{l.modifiedData=h.initialData,l.formErrors={};break}case"ON_CHANGE":{p.inputType==="password"&&!p.value?(0,te.unset)(l.modifiedData,p.keys.split(".")):p.keys.includes("username")&&!p.value?(0,te.set)(l.modifiedData,p.keys.split("."),null):(0,te.set)(l.modifiedData,p.keys.split("."),p.value);break}case"ON_SUBMIT":{l.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{l.initialData=(0,te.pick)(p.data,h.fieldsToPick),l.modifiedData=(0,te.pick)(p.data,h.fieldsToPick),l.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{l.formErrors=p.errors,l.showHeaderButtonLoader=!1;break}default:return l}});var lt=(h,p)=>({...h,fieldsToPick:p}),Pt=(h,p,l,C)=>{const[{formErrors:U,initialData:Z,isLoading:W,modifiedData:q,showHeaderButtonLoader:ie,showHeaderLoader:De},Ae]=(0,e.useReducer)(vt,it,()=>lt(it,C)),_e=(0,m.useNotification)(),{lockApp:Ne,unlockApp:Ye}=(0,m.useOverlayBlocker)();return(0,e.useEffect)(()=>{h&&(async()=>{try{const{data:ge}=await(0,m.request)(h,{method:"GET"});Ae({type:"GET_DATA_SUCCEEDED",data:ge,fieldsToPick:C})}catch(ge){console.error(ge.response),_e({type:"warning",message:{id:"notification.error"}})}})()},[h]),[{formErrors:U,initialData:Z,isLoading:W,modifiedData:q,showHeaderButtonLoader:ie,showHeaderLoader:De},Ae,{handleCancel:()=>{Ae({type:"ON_CANCEL"})},handleChange:({target:{name:Ze,value:ge,type:We}})=>{Ae({type:"ON_CHANGE",inputType:We,keys:Ze,value:ge})},handleSubmit:async Ze=>{Ze.preventDefault();const ge=await(0,tt.R6)(q,p);if(Ae({type:"SET_ERRORS",errors:ge||{}}),!ge)try{Ne(),Ae({type:"ON_SUBMIT"});const We=(0,te.omit)(q,["confirmPassword","registrationToken"]);We.roles&&(We.roles=We.roles.map(Je=>Je.id));const{data:je}=await(0,m.request)(h,{method:"PUT",body:We});l(je),Ae({type:"ON_SUBMIT_SUCCEEDED",data:je}),_e({type:"success",message:{id:"notification.success.saved"}})}catch(We){const je=(0,te.get)(We,"response.payload",{data:{}});(0,te.has)(je,"data")&&typeof je.data=="string"?_e({type:"warning",message:je.data}):_e({type:"warning",message:je.message});const Je=(0,tt.Iz)(je);Ae({type:"SET_ERRORS",errors:Je})}finally{Ye()}},setField:(Ze,ge)=>{Ae({type:"ON_CHANGE",keys:Ze,value:ge})}}]},ct=()=>(0,e.useContext)(r.$l);const wt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Ut=()=>{const{latestStrapiReleaseTag:h,shouldUpdateStrapi:p}=useAppInfos(),l=useNotification();return useEffect(()=>{p&&wt&&l({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${h}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[h,p,l]),null};var Rt=null,At=()=>(0,e.useContext)(r.Rj),Ct=(h,p,l)=>{const[C,U]=(0,e.useState)(!1),Z=(0,m.useNotification)(),{post:W}=(0,m.useFetchClient)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:ie}}}=await W(`${h}${p}/regenerate`);U(!1),l(ie)}catch(ie){U(!1),Z({type:"warning",message:(0,te.get)(ie,"response.data.message","notification.error")})}},isLoadingConfirmation:C}}},47950:function(O,E){"use strict";E.Z=[]},73086:function(O,E){"use strict";E.Z=[]},954:function(O,E,t){"use strict";t.d(E,{sg:function(){return v},bU:function(){return x},ZP:function(){return M}});var e=t(32735),r=t(83292),n=t(60216),f=t.n(n),m=t(39161),g=t(5636),d=t(20139),R=()=>{const{changeLocale:F,localeNames:L}=(0,d.Z)(),{locale:w}=(0,g.useIntl)();return e.createElement(m.SimpleMenu,{label:L[w]},Object.keys(L).map($=>e.createElement(m.MenuItem,{onClick:()=>F($),key:$},L[$])))};const j=(0,r.default)(m.Box)`
  margin: 0 auto;
  width: 552px;
`,v=(0,r.default)(m.Flex)`
  flex-direction: column;
`,x=({children:F})=>e.createElement(j,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},F);x.propTypes={children:f().node.isRequired};const T=({children:F})=>e.createElement("div",null,e.createElement(m.Flex,{as:"header",justifyContent:"flex-end"},e.createElement(m.Box,{paddingTop:6,paddingRight:8},e.createElement(R,null))),e.createElement(m.Box,{paddingTop:2,paddingBottom:11},F));T.propTypes={children:f().node.isRequired};var M=T},56761:function(O,E){"use strict";const t=[];E.Z=t},72218:function(O,E,t){"use strict";var e=t(83292),r=t(39161),n=t.n(r);const f=(0,e.default)(r.FieldAction)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:m})=>m.colors.neutral600};
    }
  }
`;E.Z=f},1115:function(O,E,t){"use strict";var e=t(32735),r=t(13478),n=t.n(r),f=t(57269),m=t.n(f),g=t(39161),d=t.n(g),B=t(60216),R=t.n(B),j=t(5636),v=t(83292),x=t(83281),T=t(954),M=t(10190),F=t(72218);const L=(0,v.default)(g.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,w=({onSubmit:$,schema:Q,children:fe})=>{const[P,ae]=(0,e.useState)(!1),{formatMessage:Y}=(0,j.useIntl)();return e.createElement(g.Main,null,e.createElement(T.bU,null,e.createElement(x.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:$,validationSchema:Q,validateOnChange:!1},({values:ue,errors:o,handleChange:D})=>e.createElement(r.Form,{noValidate:!0},e.createElement(T.sg,null,e.createElement(M.Z,null),e.createElement(g.Box,{paddingTop:6,paddingBottom:1},e.createElement(g.Typography,{variant:"alpha",as:"h1"},Y({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),e.createElement(g.Box,{paddingBottom:7},e.createElement(g.Typography,{variant:"epsilon",textColor:"neutral600"},Y({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),o.errorMessage&&e.createElement(g.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},o.errorMessage)),e.createElement(g.Stack,{spacing:6},e.createElement(g.TextInput,{error:o.email?Y({id:o.email,defaultMessage:"This value is required."}):"",value:ue.email,onChange:D,label:Y({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:Y({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),e.createElement(L,{error:o.password?Y({id:o.password,defaultMessage:"This value is required."}):"",onChange:D,value:ue.password,label:Y({id:"global.password",defaultMessage:"Password"}),name:"password",type:P?"text":"password",endAction:e.createElement(F.Z,{onClick:b=>{b.stopPropagation(),ae(H=>!H)},label:Y(P?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},P?e.createElement(f.Eye,null):e.createElement(f.EyeStriked,null)),required:!0}),e.createElement(g.Checkbox,{onValueChange:b=>{D({target:{value:b,name:"rememberMe"}})},value:ue.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},Y({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),e.createElement(g.Button,{fullWidth:!0,type:"submit"},Y({id:"Auth.form.button.login",defaultMessage:"Login"}))))),fe),e.createElement(g.Flex,{justifyContent:"center"},e.createElement(g.Box,{paddingTop:4},e.createElement(r.Link,{to:"/auth/forgot-password"},Y({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};w.defaultProps={children:null,onSubmit(){}},w.propTypes={children:R().node,onSubmit:R().func,schema:R().shape({type:R().string.isRequired}).isRequired},E.Z=w},5365:function(O,E,t){"use strict";var e=t(32735),r=t(60216),n=t.n(r),f=t(1115),m=t(954);const g=d=>e.createElement(m.ZP,null,e.createElement(f.Z,{...d}));g.defaultProps={onSubmit:d=>d.preventDefault()},g.propTypes={onSubmit:n().func},E.Z=g},53951:function(O,E,t){"use strict";t.r(E);var e=t(32735),r=t(13478),n=t.n(r),f=t(39161),m=t.n(f),g=t(57269),d=t.n(g),B=t(5636);const R=()=>{const{formatMessage:j}=(0,B.useIntl)();return(0,r.useFocusWhenNavigate)(),e.createElement(f.Main,{labelledBy:"title"},e.createElement(f.HeaderLayout,{id:"title",title:j({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),e.createElement(f.ContentLayout,null,e.createElement(f.EmptyStateLayout,{action:e.createElement(r.LinkButton,{variant:"secondary",endIcon:e.createElement(g.ArrowRight,null),to:"/"},j({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:j({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:e.createElement(g.EmptyPictures,{width:"10rem"}),shadow:"tableShadow"})))};E.default=R},26123:function(O,E){"use strict";E.Z={}},41832:function(O,E){"use strict";const t=({data:e})=>{try{return Object.keys(e).reduce((r,n)=>{const f=e[n][0];return r[n]={id:f,defaultMessage:f},r},{})}catch{return{}}};E.Z=t},64421:function(O,E,t){"use strict";t.d(E,{R6:function(){return n},ot:function(){return j},Iz:function(){return v.Z},Pp:function(){return Y},IF:function(){return ae},Qy:function(){return o},WW:function(){return L}});var e=t(13478),n=async(D,b)=>{let H=null;try{await b.validate(D,{abortEarly:!1})}catch(ve){H=(0,e.getYupInnerErrors)(ve)}return H},f=t(32735),m=t(60216),g=t.n(m),d=t(5141);const B=({loadComponent:D})=>{const[b,H]=(0,f.useState)(null);return(0,f.useEffect)(()=>{(async()=>{try{const le=await D();H(()=>le.default)}catch(le){console.log(le)}})()},[D]),b?f.createElement(b,null):f.createElement(e.LoadingIndicatorPage,null)},R=(D,b,H)=>f.createElement(d.Route,{render:()=>f.createElement(B,{loadComponent:D}),key:b,path:b,exact:H||!1});B.propTypes={loadComponent:g().func.isRequired};var j=R,v=t(41832),x=t(92891);const T=D=>{const b=get(D,["options","timestamps"]);let H=Array.isArray(b)?b:[];const le=[...["id","_id"],...H,"publishedAt"],ce=get(D,["attributes"],{});return Object.keys(ce).reduce((de,z)=>(le.includes(z)||de.push({...ce[z],attributeName:z}),de),[])};var M=null,L=D=>D.filter((b,H,ve)=>ve.findIndex(le=>le.key===b.key)===H);const w=D=>sortBy(D,b=>b.name);var $=null;const Q=D=>Array.from(new Set(Object.entries(D).reduce((b,H)=>{const ve=le=>le.reduce((ce,de)=>{let z=ce;return de.actions&&(z=[...z,...de.actions]),typeof de=="object"&&!de.actions&&(z=[...z,...Object.keys(de)]),z},[]);return[...b,...ve([...Object.values(H[1].attributes||{}),get(H[1],"contentTypeActions",{})])]},[])));var fe=null,ae=D=>`/admin/${D}`,Y=(D,b="")=>[D,b].filter(H=>H).join(" ");const ue={bufferToHex(D){return[...new Uint8Array(D)].map(b=>b.toString(16).padStart(2,"0")).join("")},async digestMessage(D){const b=new TextEncoder().encode(D),H=await crypto.subtle.digest("SHA-256",b);return this.bufferToHex(H)}};async function o(D){if(!D)return null;try{return await ue.digestMessage(D.email)}catch{return null}}},58414:function(O,E,t){"use strict";t.d(E,{pl:function(){return R},q5:function(){return v.Z}});var e=t(32735),r=t(13478),n=t(64421),f=t(97889);const m={data:[],isLoading:!0};var d=(x,T)=>(0,f.default)(x,M=>{switch(T.type){case"GET_DATA_SUCCEEDED":{M.data=T.data,M.isLoading=!1;break}case"GET_DATA_ERROR":{M.isLoading=!1;break}default:return M}}),R=({ssoEnabled:x})=>{const[T,M]=(0,e.useReducer)(d,m),F=(0,r.useNotification)();(0,e.useEffect)(()=>{L()},[]);const L=async()=>{try{if(!x){M({type:"GET_DATA_SUCCEEDED",data:[]});return}const w=(0,n.IF)("providers"),$=await(0,r.request)(w,{method:"GET"});M({type:"GET_DATA_SUCCEEDED",data:$})}catch(w){console.error(w),M({type:"GET_DATA_ERROR"}),F({type:"warning",message:{id:"notification.error"}})}};return T},j=t(21306),v=t(2690)},21306:function(O,E,t){"use strict";var e=t(32735),r=t(5636),n=t(5392),f=t(13478),m=t.n(f),g=t(36866),d=t.n(g),B=t(2690);const R="strapi-notification-seat-limit",j="https://cloud.strapi.io/profile/billing",v="https://strapi.io/billing/request-seats",x=()=>{const{formatMessage:T}=(0,r.useIntl)();let{license:M}=(0,B.Z)();const F=(0,f.useNotification)(),{pathname:L}=(0,n.useLocation)();(0,e.useEffect)(()=>{if(!M?.data)return;const{enforcementUserCount:w,permittedSeats:$,licenseLimitStatus:Q,isHostedOnStrapiCloud:fe}=M?.data??{},P=!d()($)&&!window.sessionStorage.getItem(`${R}-${L}`)&&(Q==="AT_LIMIT"||Q==="OVER_LIMIT");let ae;Q==="OVER_LIMIT"?ae="warning":Q==="AT_LIMIT"&&(ae="softWarning"),P&&F({type:ae,message:T({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:Q}),title:T({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:Q,enforcementUserCount:w,permittedSeats:$}),link:{url:fe?j:v,label:T({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:fe})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${R}-${L}`,!0)}})},[F,M.data,L,T])};E.Z=x},2690:function(O,E,t){"use strict";var e=t(13478),r=t.n(e),n=t(84968),f=t.n(n),m=t(72041);const g=()=>{const d=(0,e.useRBAC)(m.Z.settings.users),{isLoading:B,allowedActions:{canRead:R,canCreate:j,canUpdate:v,canDelete:x}}=d,T=R&&j&&v&&x,{get:M}=(0,e.useFetchClient)(),F=async()=>{const{data:{data:w}}=await M("/admin/license-limit-information");return w};return{license:(0,n.useQuery)(["ee","license-limit-info"],F,{enabled:!B&&T})}};E.Z=g},66334:function(O,E,t){"use strict";var e=t(72041);const n=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:e.Z.settings.auditLogs.main}]:[]];E.Z=n},11545:function(O,E,t){"use strict";var e=t(72041);const n=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:e.Z.settings.sso.main}]:[]];E.Z=n},68944:function(O,E,t){"use strict";t.d(E,{Z:function(){return v}});var e=t(32735),r=t(5141),n=t(5636),f=t(49189),m=t.n(f),g=t(13478),d=t(64421),R=()=>{const{params:{authResponse:x}}=(0,r.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:T}=(0,n.useIntl)(),{push:M}=(0,r.useHistory)(),F=(0,e.useRef)(T);let L=(0,e.useCallback)(()=>{M(`/auth/oops?info=${encodeURIComponent(F.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[M]);const w=(0,e.useCallback)(async()=>{try{const $=m().get("jwtToken");if(g.auth.clearAppStorage(),$){g.auth.setToken($,!0);const Q=(0,d.IF)("users/me"),{data:fe}=await(0,g.request)(Q,{method:"GET"});g.auth.setUserInfo(fe,!0),m().remove("jwtToken"),M("/auth/login")}}catch{L()}},[M,L]);return(0,e.useEffect)(()=>{x==="error"&&L(),x==="success"&&w()},[x,w,L]),e.createElement(g.LoadingIndicatorPage,null)},v=[{Component:()=>({default:R}),to:"/auth/login/:authResponse",exact:!0}]},98768:function(O,E,t){"use strict";var e=t(32735),r=t(60216),n=t.n(r),f=t(83292),m=t(39161),g=t.n(m),d=t(5636),B=t(1115),R=t(58414),j=t(954),v=t(33205);const x=(0,f.default)(m.Divider)`
  flex: 1;
`,T=M=>{const F=strapi.features.isEnabled(strapi.features.SSO),{isLoading:L,data:w}=(0,R.pl)({ssoEnabled:F}),{formatMessage:$}=(0,d.useIntl)();return!F||!L&&w.length===0?e.createElement(j.ZP,null,e.createElement(B.Z,{...M})):e.createElement(j.ZP,null,e.createElement(B.Z,{...M},e.createElement(m.Box,{paddingTop:7},e.createElement(m.Stack,{spacing:7},e.createElement(m.Flex,null,e.createElement(x,null),e.createElement(m.Box,{paddingLeft:3,paddingRight:3},e.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},$({id:"Auth.login.sso.divider"}))),e.createElement(x,null)),e.createElement(v.Z,{providers:w,displayAllProviders:!1})))))};T.defaultProps={onSubmit:M=>M.preventDefault(),requestError:null},T.propTypes={formErrors:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired,onSubmit:n().func,requestError:n().object},E.Z=T},33205:function(O,E,t){"use strict";var e=t(32735),r=t(60216),n=t.n(r),f=t(39161),m=t.n(f),g=t(83292),d=t(5636),B=t(5141);const R=g.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:T})=>T.colors.neutral150};
  border-radius: ${({theme:T})=>T.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:T})=>T.colors.neutral600};
`,j=(0,g.default)(f.Flex)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:T})=>T.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:T})=>T.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:T})=>T.spaces[2]};
  }
`,v=({provider:T})=>e.createElement(f.Tooltip,{label:T.displayName},e.createElement(R,{href:`${strapi.backendURL}/admin/connect/${T.uid}`},T.icon?e.createElement("img",{src:T.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(f.Typography,null,T.displayName)));v.propTypes={provider:n().shape({icon:n().string,displayName:n().string.isRequired,uid:n().string.isRequired}).isRequired};const x=({providers:T,displayAllProviders:M})=>{const{formatMessage:F}=(0,d.useIntl)();return M?e.createElement(f.Grid,{gap:4},T.map(L=>e.createElement(f.GridItem,{key:L.uid,col:4},e.createElement(v,{provider:L})))):T.length>2&&!M?e.createElement(f.Grid,{gap:4},T.slice(0,2).map(L=>e.createElement(f.GridItem,{key:L.uid,col:4},e.createElement(v,{provider:L}))),e.createElement(f.GridItem,{col:4},e.createElement(f.Tooltip,{label:F({id:"global.see-more"})},e.createElement(R,{as:B.Link,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(j,{justifyContent:"center"},T.map(L=>e.createElement(v,{key:L.uid,provider:L})))};x.defaultProps={displayAllProviders:!0},x.propTypes={providers:n().arrayOf(n().object).isRequired,displayAllProviders:n().bool},E.Z=x},7277:function(O,E,t){"use strict";t.d(E,{Z:function(){return L}});var e=t(32735),r=t(5141),n=t(83292),f=t(13478),m=t(39161),g=t(5636),d=t(58414),B=t(954),R=t(33205),j=t(10190);const v=(0,n.default)(m.Divider)`
  flex: 1;
`;var T=()=>{const w=strapi.features.isEnabled(strapi.features.SSO),{push:$}=(0,r.useHistory)(),{formatMessage:Q}=(0,g.useIntl)(),{isLoading:fe,data:P}=(0,d.pl)({ssoEnabled:w}),ae=()=>{$("/auth/login")};return!w||!fe&&P.length===0?e.createElement(r.Redirect,{to:"/auth/login"}):e.createElement(B.ZP,null,e.createElement(m.Main,null,e.createElement(B.bU,null,e.createElement(B.sg,null,e.createElement(j.Z,null),e.createElement(m.Box,{paddingTop:6,paddingBottom:1},e.createElement(m.Typography,{as:"h1",variant:"alpha"},Q({id:"Auth.form.welcome.title"}))),e.createElement(m.Box,{paddingBottom:7},e.createElement(m.Typography,{variant:"epsilon",textColor:"neutral600"},Q({id:"Auth.login.sso.subtitle"})))),e.createElement(m.Stack,{spacing:7},fe?e.createElement(m.Flex,{justifyContent:"center"},e.createElement(m.Loader,null,Q({id:"Auth.login.sso.loading"}))):e.createElement(R.Z,{providers:P}),e.createElement(m.Flex,null,e.createElement(v,null),e.createElement(m.Box,{paddingLeft:3,paddingRight:3},e.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},Q({id:"or"}))),e.createElement(v,null)),e.createElement(m.Button,{fullWidth:!0,size:"L",onClick:ae},Q({id:"Auth.form.button.login.strapi"})))),e.createElement(m.Flex,{justifyContent:"center"},e.createElement(m.Box,{paddingTop:4},e.createElement(f.Link,{to:"/auth/forgot-password"},e.createElement(m.Typography,{variant:"pi"},Q({id:"Auth.link.forgot-password"})))))))},M=t(56355),L={...M.Z,providers:{Component:T,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},99568:function(O,E){"use strict";const t={settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}};E.Z=t},48224:function(O,E,t){var e={"./ar.json":[38677,7958],"./ca.json":[90169,3516],"./cs.json":[43186,7519],"./de.json":[8343,6901],"./dk.json":[65668,7898],"./en.json":[10329,320],"./es.json":[45445,8367],"./eu.json":[69511,8360],"./fr.json":[8399,8006],"./gu.json":[10182,2248],"./he.json":[21757,830],"./hi.json":[43206,6332],"./hu.json":[72320,5894],"./id.json":[74221,8897],"./it.json":[90685,6817],"./ja.json":[21727,1312],"./ko.json":[30986,1377],"./ml.json":[11309,9903],"./ms.json":[75973,3025],"./nl.json":[80381,2671],"./no.json":[82446,562],"./pl.json":[84008,7846],"./pt-BR.json":[91417,9647],"./pt.json":[41830,3340],"./ru.json":[57098,123],"./sa.json":[92900,9726],"./sk.json":[52204,606],"./sv.json":[43211,9303],"./th.json":[49582,749],"./tr.json":[99154,395],"./uk.json":[2987,7403],"./vi.json":[50576,3278],"./zh-Hans.json":[35964,2553],"./zh.json":[91999,1011]};function r(n){if(!t.o(e,n))return Promise.resolve().then(function(){var g=new Error("Cannot find module '"+n+"'");throw g.code="MODULE_NOT_FOUND",g});var f=e[n],m=f[0];return t.e(f[1]).then(function(){return t.t(m,19)})}r.keys=function(){return Object.keys(e)},r.id=48224,O.exports=r},56355:function(O,E,t){"use strict";t.d(E,{Z:function(){return Ge}});var e=t(5173),r=t(13478),n=t(32735),f=t(5636),m=t(60216),g=t.n(m),d=t(39161),B=t(83281),R=t(954),j=t(10190);const v=({onSubmit:_,schema:Ie})=>{const{formatMessage:oe}=(0,f.useIntl)();return n.createElement(R.ZP,null,n.createElement(d.Main,null,n.createElement(R.bU,null,n.createElement(B.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:_,validationSchema:Ie,validateOnChange:!1},({values:Se,errors:Ce,handleChange:he})=>n.createElement(r.Form,{noValidate:!0},n.createElement(R.sg,null,n.createElement(j.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},oe({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Ce.errorMessage&&n.createElement(d.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},oe({id:Ce.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(d.Stack,{spacing:6},n.createElement(d.TextInput,{error:Ce.email?oe({id:Ce.email,defaultMessage:"This email is invalid."}):"",value:Se.email,onChange:he,label:oe({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:oe({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),n.createElement(d.Button,{type:"submit",fullWidth:!0},oe({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(r.Link,{to:"/auth/login"},oe({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};v.defaultProps={onSubmit:_=>_.preventDefault()},v.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};var x=v,M=()=>{const{formatMessage:_}=(0,f.useIntl)();return n.createElement(R.ZP,null,n.createElement(d.Main,null,n.createElement(R.bU,null,n.createElement(R.sg,null,n.createElement(j.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},_({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),n.createElement(d.Typography,null,_({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),n.createElement(d.Box,{paddingTop:4},n.createElement(d.Typography,null,_({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(r.Link,{to:"/auth/login"},_({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},L=()=>{const{formatMessage:_}=(0,f.useIntl)(),oe=(0,r.useQuery)().get("info")||_({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return n.createElement(R.ZP,null,n.createElement(d.Main,null,n.createElement(R.bU,null,n.createElement(R.sg,null,n.createElement(j.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},_({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),n.createElement(d.Typography,null,oe),n.createElement(d.Box,{paddingTop:4},n.createElement(d.Typography,null,_({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(r.Link,{to:"/auth/login"},_({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},w=t(83292),$=t(33795),Q=t.n($),fe=t(9086),P=t.n(fe),ae=t(5141),Y=t(55721),ue=t(57269),o=t(72218);const D=(0,w.default)(d.Box)`
  text-align: center;
`,b=w.default.a`
  color: ${({theme:_})=>_.colors.primary600};
`,H=(0,w.default)(d.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,ve=({authType:_,fieldsToDisable:Ie,noSignin:oe,onSubmit:Se,schema:Ce})=>{const he=(0,r.useNotification)(),{push:me}=(0,ae.useHistory)(),[Be,ke]=(0,n.useState)(!1),[te,Le]=(0,n.useState)(!1),[Ue,ze]=(0,n.useState)(0),[Ke,Ve]=(0,n.useState)({}),{trackUsage:He}=(0,r.useTracking)(),{formatMessage:J}=(0,f.useIntl)(),pe=(0,r.useQuery)().get("registrationToken");return(0,n.useEffect)(()=>{pe&&(async()=>{try{const{data:{data:se}}=await Y.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${pe}`);se&&Ve(se)}catch(se){const Te=Q()(se,["response","data","message"],"An error occurred");he({type:"warning",message:Te}),me(`/auth/oops?info=${encodeURIComponent(Te)}`)}})()},[pe]),n.createElement(R.ZP,null,n.createElement(R.bU,null,n.createElement(B.Formik,{enableReinitialize:!0,initialValues:{firstname:Ke.firstname||"",lastname:Ke.lastname||"",email:Ke.email||"",password:"",confirmPassword:"",registrationToken:pe||void 0,news:!1},onSubmit:async(Re,se)=>{try{await Ce.validate(Re,{abortEarly:!1}),Ue>0&&_==="register-admin"&&He("didSubmitWithErrorsFirstAdmin",{count:Ue.toString()}),Se(pe?{userInfo:P()(Re,["registrationToken"]),registrationToken:pe}:Re,se)}catch(Te){const we=(0,r.getYupInnerErrors)(Te);ze(Ue+1),se.setErrors(we)}},validateOnChange:!1},({values:Re,errors:se,handleChange:Te})=>n.createElement(r.Form,{noValidate:!0},n.createElement(d.Main,null,n.createElement(R.sg,null,n.createElement(j.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:1},n.createElement(d.Typography,{as:"h1",variant:"alpha"},J({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),n.createElement(D,{paddingBottom:7},n.createElement(d.Typography,{variant:"epsilon",textColor:"neutral600"},J({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),n.createElement(d.Stack,{spacing:6},n.createElement(d.Grid,{gap:4},n.createElement(d.GridItem,{col:6},n.createElement(d.TextInput,{name:"firstname",required:!0,value:Re.firstname,error:se.firstname?J(se.firstname):void 0,onChange:Te,label:J({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),n.createElement(d.GridItem,{col:6},n.createElement(d.TextInput,{name:"lastname",value:Re.lastname,onChange:Te,label:J({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),n.createElement(d.TextInput,{name:"email",disabled:Ie.includes("email"),value:Re.email,onChange:Te,error:se.email?J(se.email):void 0,required:!0,label:J({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),n.createElement(H,{name:"password",onChange:Te,value:Re.password,error:se.password?J(se.password):void 0,endAction:n.createElement(o.Z,{onClick:we=>{we.preventDefault(),ke(Qe=>!Qe)},label:J(Be?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Be?n.createElement(ue.Eye,null):n.createElement(ue.EyeStriked,null)),hint:J({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:J({id:"global.password",defaultMessage:"Password"}),type:Be?"text":"password"}),n.createElement(H,{name:"confirmPassword",onChange:Te,value:Re.confirmPassword,error:se.confirmPassword?J(se.confirmPassword):void 0,endAction:n.createElement(o.Z,{onClick:we=>{we.preventDefault(),Le(Qe=>!Qe)},label:J(te?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},te?n.createElement(ue.Eye,null):n.createElement(ue.EyeStriked,null)),required:!0,label:J({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:te?"text":"password"}),n.createElement(d.Checkbox,{onValueChange:we=>{Te({target:{value:we,name:"news"}})},value:Re.news,name:"news","aria-label":"news"},J({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:n.createElement(b,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},J({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:n.createElement(b,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},J({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),n.createElement(d.Button,{fullWidth:!0,size:"L",type:"submit"},J({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!oe&&n.createElement(d.Box,{paddingTop:4},n.createElement(d.Flex,{justifyContent:"center"},n.createElement(r.Link,{label:"Auth.link.signin",to:"/auth/login"},J({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};ve.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:_=>_.preventDefault()},ve.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};var le=ve;const ce=(0,w.default)(d.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,de=({onSubmit:_,schema:Ie})=>{const[oe,Se]=(0,n.useState)(!1),[Ce,he]=(0,n.useState)(!1),{formatMessage:me}=(0,f.useIntl)();return n.createElement(R.ZP,null,n.createElement(d.Main,null,n.createElement(R.bU,null,n.createElement(B.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:_,validationSchema:Ie,validateOnChange:!1},({values:Be,errors:ke,handleChange:te})=>n.createElement(r.Form,{noValidate:!0},n.createElement(R.sg,null,n.createElement(j.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},me({id:"global.reset-password",defaultMessage:"Reset password"}))),ke.errorMessage&&n.createElement(d.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},me({id:ke.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(d.Stack,{spacing:6},n.createElement(ce,{name:"password",onChange:te,value:Be.password,error:ke.password?me({id:ke.password,defaultMessage:"This field is required."}):void 0,endAction:n.createElement(o.Z,{onClick:Le=>{Le.preventDefault(),Se(Ue=>!Ue)},label:me(oe?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},oe?n.createElement(ue.Eye,null):n.createElement(ue.EyeStriked,null)),hint:me({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:me({id:"global.password",defaultMessage:"Password"}),type:oe?"text":"password"}),n.createElement(ce,{name:"confirmPassword",onChange:te,value:Be.confirmPassword,error:ke.confirmPassword?me({id:ke.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:n.createElement(o.Z,{onClick:Le=>{Le.preventDefault(),he(Ue=>!Ue)},label:me(oe?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ce?n.createElement(ue.Eye,null):n.createElement(ue.EyeStriked,null)),required:!0,label:me({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Ce?"text":"password"}),n.createElement(d.Button,{fullwidth:!0,type:"submit"},me({id:"global.change-password",defaultMessage:"Change password"})))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(r.Link,{to:"/auth/login"},me({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};de.defaultProps={onSubmit:_=>_.preventDefault()},de.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};var z=de;const qe=(()=>window&&window.strapi&&window.strapi.isEE?t(98768).Z:t(5365).Z)();var Ge={"forgot-password":{Component:x,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:e.Ry().shape({email:e.Z_().email(r.translatedErrors.email).required(r.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:M,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:qe,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:e.Ry().shape({email:e.Z_().email(r.translatedErrors.email).required(r.translatedErrors.required),password:e.Z_().required(r.translatedErrors.required),rememberMe:e.Xg().nullable()}),inputsPrefix:""},oops:{Component:L,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:le,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:e.Ry().shape({firstname:e.Z_().trim().required(r.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,r.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(r.translatedErrors.required),registrationToken:e.Z_().required(r.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:le,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:e.Ry().shape({firstname:e.Z_().trim().required(r.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,r.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.translatedErrors.required),email:e.Z_().email(r.translatedErrors.email).strict().lowercase(r.translatedErrors.lowercase).required(r.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(r.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:z,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:e.Ry().shape({password:e.Z_().min(8,r.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(r.translatedErrors.required)})}}},72041:function(O,E,t){"use strict";t.d(E,{Z:function(){return g}});var e=t(92891),n={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};const f=(()=>window&&window.strapi&&window.strapi.isEE?t(99568).Z:t(26123).Z)();var g=(0,e.merge)(n,f)},47750:function(O,E,t){"use strict";O.exports=t.p+"70674f63fc3904c20de0.svg"}}]);
